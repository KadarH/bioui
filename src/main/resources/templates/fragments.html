<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">
<head th:fragment="head">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title th:text="${title}">BIOUI Analyser</title>
	<link th:href="@{/css/mainly/bootstrap.min.css}" rel="stylesheet">
	<link th:href="@{/css/mainly/bootstrap-datetimepicker.min.css}" rel="stylesheet">
    <link th:href="@{/css/mainly/font-awesome.css}" rel="stylesheet">
    <link th:href="@{/css/mainly/animate.css}" rel="stylesheet">
	<link th:href="@{/css/chart-doughnut.css}" rel="stylesheet">
	<link th:href="@{/css/mainly/style.css}" rel="stylesheet">
	<link th:href="@{/css/main.css}" rel="stylesheet">

	<link rel="stylesheet" th:href="@{/css/main.css}"/>
</head>

<body class="gray-bg">
	<div th:fragment="header">
		<div sec:authorize="!isAuthenticated()">
			<img th:src="@{/img/left-logo.png}" class="img-fluid pull-left" style="width: auto;">
			<img th:src="@{/img/right-logo.png}" class="img-fluid pull-right" style="width: auto;">
		</div>
		<nav class="navbar navbar-static-top nav-bg" role="navigation" style="margin-bottom: 0" sec:authorize="isAuthenticated()">
			<div class="navbar-header">
				<img th:src="@{/img/left-logo.png}" class="img-fluid pull-left" style="width: 65%;">
			</div>
			<ul class="nav navbar-top-links navbar-right">
				<li>
					<span class="m-r-sm text-muted welcome-message">
						Welcome back Mr <span sec:authentication="name"> you are a <span class="col" sec:authentication="authorities">
					</span>
				</li>
				<li>
					<a class="dropdown-toggle count-info" data-toggle="dropdown" href="#">
						<i class="fa fa-bell"></i>  <span class="label label-primary">8</span>
					</a>
				</li>
				<li>
					<form th:action="@{/logout}" method="post">
						<button type="submit" class="btn btn-link">
							<i class="fa fa-sign-out"></i> Se déconnécter
						</button>
					</form>
				</li>
			</ul>
		</nav>
	</div>

	<div class="stats-forms" th:fragment="statsForm"  id="fragment"  >
		<form method="post" th:object="${statistic}" >
			<input type="hidden"
				   th:name="${_csrf.parameterName}"
				   th:value="${_csrf.token}"/>

			<div class="row">
			    <div class='col-md-6'>
			        <div th:class="${#fields.hasErrors('dayFrom')} ? 'form-group row has-danger' : 'form-group row'">
			            <label class="col-sm-2 col-form-label stats-label" for="dayFrom">De:</label>
						<div class="col-sm-10">
				            <div class='input-group date' id='datetimepicker6'>
				                <input id="dayFrom" type="text" class="form-control" th:field="*{dayFrom}"
							   placeholder="dd/mm/aaaa" th:errorclass="form-control-danger"/>
								<div class="form-control-feedback" th:if="${#fields.hasErrors('dayFrom')}">
									<ul>
										<li th:each="err : ${#fields.errors('dayFrom')}" th:text="${err}"/>
									</ul>
								</div>
				                <span class="input-group-addon">
				                    <span class="fa fa-calendar"></span>
				                </span>
				            </div>
				        </div>
			        </div>
			    </div>
			    <div class='col-md-6'>
			        <div th:class="${#fields.hasErrors('dayFrom')} ? 'form-group row has-danger' : 'form-group row'">
			            <label class="col-sm-2 col-form-label stats-label" for="dayFrom"> à :</label>
						<div class="col-sm-10">
				            <div class='input-group date' id='datetimepicker7'>
				                <input type='text' class="form-control" />
				                <span class="input-group-addon">
				                    <span class="fa fa-calendar"></span>
				                </span>
				            </div>
				        </div>
			        </div>
			    </div>
				<br>
				<div class="col-sm-6">
					<div th:class="${#fields.hasErrors('nbHourRepos')} ? 'form-group row has-danger' : 'form-group row'">
						<label class="col-sm-2 col-form-label mr-auto stats-label" for="nbHourRepos">Repos:</label>
						<div class="col-sm-10">
							<input id="nbHourRepos" type="number" class="form-control" th:field="*{nbHourRepos}"
								   th:errorclass="form-control-danger"/>
							<div class="form-control-feedback" th:if="${#fields.hasErrors('nbHourRepos')}">
								<ul>
									<li th:each="err : ${#fields.errors('nbHourRepos')}" th:text="${err}"/>
								</ul>
							</div>
						</div>
					</div>
		
				</div>
				<hr>
				<div class="col-md-8 col-md-offset-2">
					<button type="submit" class="btn btn-primary btn-block ">Inspecter</button>
				</div>
			</div>
		</form>
	</div>
	<div th:fragment="footer">
		<!-- Mainly scripts -->
		<script th:src="@{/js/mainly/jquery-3.1.1.min.js}"></script>
		<script th:src="@{/js/mainly/bootstrap.min.js}"></script>
		<script th:src="@{/js/mainly/jquery.metisMenu.js}"></script>
		<script th:src="@{/js/mainly/jquery.slimscroll.min.js}"></script>
		<script th:src="@{/js/mainly//date-picker/moment.min.js}"></script>
		<script th:src="@{/js/mainly//date-picker/bootstrap-datetimepicker.min.js}"></script>
		<script th:src="@{/js/main.js}"></script>
	</div>
	
	<div th:fragment="chart-plugin">
		<script th:src="@{/js/mainly/chart-plugins/chart-doughnut.js}"></script>
		<script th:src="@{/js/mainly/chart-plugins/chart-bar.js}"></script>>
	</div>
</body>
</html>
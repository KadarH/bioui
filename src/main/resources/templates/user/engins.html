<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: head"></head>
<body>

<div class="container">
	<div th:replace="fragments :: header"></div>
	<hr>
	<div class="btn-group pull-right">
		<a class="btn btn-secondary" th:href="@{'/user/chantier/'+${chantier.id}}">
			<i class="fa fa-bar-chart"></i> Semaine
		</a>
		<a class="btn btn-secondary" th:href="@{'/user/chantier/'+${chantier.id}+'/twoWeeks'}">
			<i class="fa fa-bar-chart"></i> 15 Jours
		</a>
		<a class="btn btn-secondary" th:href="@{'/user/chantier/'+${chantier.id}+'/month'}">
			<i class="fa fa-bar-chart"></i> Mois
		</a>
	</div>
	<br><br>
	<h1 class="text-center" th:text="${chantier.nom}"></h1>
	<a class="btn btn-success btn-lg" href="/user/"><i class="fa fa-arrow-left"></i> Retour à la liste des chantiers</a>
	<br><br>
	<div th:replace="fragments :: statsForm"></div>
	<br>

	<div th:if="${enginsRendementWeek}">
		<h2><i class="fa fa-list"></i> Rendement de la semaine :</h2><br>
		<div class="row text-center">
			<div class="col-sm-6 col-md-4" th:each="element : ${enginsRendementWeek}">
				<div class="card" style="border: solid 2px #636363">
					<img class="card-img-top img-fluid" th:src="@{'/files/'+${element.get('engin').photo}}"
						 th:alt="${element.get('engin').photo}"/>
					<div class="card-header">
						<h2 th:text="'Engin N° '+${element.get('engin').id}"></h2>
					</div>
					<div class="card-block">
						<p th:text="'Chauffeur : '+${element.get('engin').chauffeur}"></p>
						<p th:text="'Marque : '+${element.get('engin').marque}"></p>
						<p th:text="'Année : '+${element.get('engin').annee}"></p>

						<!-- Insert pie chart here ( here is an example on how to get rendement value for this chantier)
						 th:text will print the text inside the span tag
						 if u want to get the value in an attribute (data for example), it's possible using th:attr -->
						rendement = <span th:text="${element.get('rendement')}"
										  th:attr="data=${element.get('rendement')}">this default text will be overwriten by th:text content</span>

					</div>
					<a class="btn btn-block btn-success"
					   th:href="@{'/user/chantier/'+${element.get('engin').chantier.id}+'/engin/'+${element.get('engin').id}}">
						Voir les statistics de l'engin
					</a>
				</div>
				<br>
			</div>
		</div>
	</div>

	<div th:if="${enginsRendement}">
		<h2><i class="fa fa-list"></i> Resultat de l'inspection :</h2><br>
		<div class="row text-center">
			<div class="col-sm-6 col-md-4" th:each="element : ${enginsRendement}">
				<div class="card" style="border: solid 2px #636363">
					<img class="card-img-top img-fluid" th:src="@{'/files/'+${element.get('engin').photo}}"
						 th:alt="${element.get('engin').photo}"/>
					<div class="card-header">
						<h2 th:text="'Engin N° '+${element.get('engin').id}"></h2>
					</div>
					<div class="card-block">
						<p th:text="'Chauffeur : '+${element.get('engin').chauffeur}"></p>
						<p th:text="'Marque : '+${element.get('engin').marque}"></p>
						<p th:text="'Année : '+${element.get('engin').annee}"></p>

						<!-- Insert pie chart here ( here is an example on how to get rendement value for this chantier)
						 th:text will print the text inside the span tag
						 if u want to get the value in an attribute (data for example), it's possible using th:attr -->
						rendement = <span th:text="${element.get('rendement')}"
										  th:attr="data=${element.get('rendement')}">this default text will be overwriten by th:text content</span>

					</div>
					<a class="btn btn-block btn-success"
					   th:href="@{'/user/chantier/'+${element.get('engin').chantier.id}+'/engin/'+${element.get('engin').id}}">
						Voir les statistics de l'engin
					</a>
				</div>
				<br>
			</div>
		</div>
	</div>

</div>

</body>
</html>